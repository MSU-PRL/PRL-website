if(function(){const e=document.querySelector(".prl-back-to-top-btn");if(e){const t=e=>{n(e)},n=e=>{e.preventDefault();const t=document.documentElement.clientTop,n=window.pageYOffset,o=t-n,r=1e3;let i=null;const s=e=>{i||(i=e);const t=e-i;window.scrollTo(0,a(t,n,o,r)),t<r&&window.requestAnimationFrame(s)},a=(e,t,n,o)=>(e/=o/2,e<1?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t));return window.requestAnimationFrame(s)};e.addEventListener("click",t);const o=()=>{const t=Math.abs(document.body.getBoundingClientRect().top),n=600;t>n?(e.classList.remove("prl-back-to-top-btn-hide"),e.classList.add("prl-back-to-top-btn-show")):(e.classList.add("prl-back-to-top-btn-hide"),e.classList.remove("prl-back-to-top-btn-show"))};window.addEventListener("scroll",o),window.addEventListener("load",o)}}(),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".prl-tooltip");if(e.length>0){const n=document.querySelectorAll(".prl-tooltip-info");e.forEach(e=>{let t=Math.random().toString(36).substr(2,9);for(e.setAttribute("aria-describedby",t),i=0;i<e.children.length;i++)"prl-tooltip-info"!==e.children[i].className&&"prl-tooltip-info prl-tooltip-info-right"!==e.children[i].className||e.children[i].setAttribute("id",t)});var t=document.createAttribute("aria-hidden");t.value="true";const o=e=>{e.setAttribute("aria-hidden","false")},r=e=>{e.setAttribute("aria-hidden","true")};n.forEach((e,i)=>{e.getAttribute("aria-hidden")||(e.setAttributeNode(t.cloneNode(!0)),console.warn("Tooltips need to have an aria-hidden attribute. One has been generated for this element",e));const s=n[i].parentNode;s.addEventListener("mouseenter",function(t){o(e)},!1),s.addEventListener("focus",function(t){o(e)},!1),s.addEventListener("mouseleave",function(t){r(e)},!1),s.addEventListener("blur",function(t){r(e)},!1)})}}),"content"in document.createElement("template")){const e=document.createElement("template");if(e.innerHTML='\n    <h2>\n      <button aria-expanded="false">\n        <svg aria-hidden="true" focusable="false" viewBox="0 0 10 10">\n          <rect class="vert" height="8" width="2" y="1" x="4"/>\n          <rect height="2" width="8" y="4" x="1"/>\n        </svg>\n      </button>\n    </h2>\n    <div class="content" hidden>\n      <slot></slot>\n    </div>\n    <style>\n      h2 {\n        margin: 0;\n        color: #2E4D4D;\n      }\n\n      h2 button {\n        all: inherit;\n        box-sizing: border-box;\n        display: flex;\n        justify-content: space-between;\n        width: 100%;\n        padding: 0.5em 0;\n      }\n\n      h2 button:focus svg {\n        outline: 2px solid;\n      }\n\n      button svg {\n        height: 1em;\n        margin-left: 0.5em;\n        flex-shrink: 0;\n      }\n\n      [aria-expanded="true"] .vert {\n        display: none;\n      }\n\n      [aria-expanded] rect {\n        fill: currentColor;\n      }\n    </style>\n  ',document.head.attachShadow){class t extends HTMLElement{constructor(){super(),this.setAttribute("role","region"),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(e.content.cloneNode(!0)),this.btn=this.shadowRoot.querySelector("h2 button");const t=this.querySelector(":first-child");let n=parseInt(t.tagName.substr(1)),o=t.id;this.heading=this.shadowRoot.querySelector("h2"),o&&(this.heading.id=o),n||(console.warn("The first element inside each <prl-accordion-section> should be a heading of an appropriate level."),n&&2!==n&&this.heading.setAttribute("aria-level",n)),this.btn.innerHTML=t.textContent+this.btn.innerHTML,t.parentNode.removeChild(t),this.switchState=(()=>{let e="true"===this.getAttribute("open")||!1;this.btn.setAttribute("aria-expanded",e),this.shadowRoot.querySelector(".content").hidden=!e}),this.btn.onclick=(()=>{let e="true"===this.getAttribute("open")||!1;this.setAttribute("open",e?"false":"true"),this.heading.id&&!e&&history.pushState(null,null,"#"+this.heading.id)})}connectedCallback(){window.location.hash.substr(1)===this.heading.id&&(this.setAttribute("open","true"),this.btn.focus())}static get observedAttributes(){return["open"]}attributeChangedCallback(e){"open"===e&&this.switchState()}}window.customElements.define("prl-accordion-section",t);const n=document.createElement("div");n.innerHTML='\n      <ul class="controls" aria-label="section controls">\n        <li><button id="expand">expand all</button></li>\n        <li><button id="collapse">collapse all</button></li>\n      </ul>\n      ';const o=document.querySelector("prl-accordion-section"),r=document.querySelectorAll("prl-accordion-section");o&&o.parentNode.insertBefore(n,o),n.addEventListener("click",e=>{let t="expand"===e.target.id;Array.prototype.forEach.call(r,e=>{e.setAttribute("open",t)})})}}(function(){const e=document.querySelector(".prl-sticky-nav-inner");if(e){const t=document.querySelectorAll(".mainContent__mainCol h1, .mainContent__mainCol h2"),n=document.getElementById("prl-sticky-nav"),o=document.createElement("ul");e.appendChild(o);const r=document.querySelector(".prl-sticky-nav-inner ul"),s=()=>{for(i of t){const e=document.createElement("li"),t=document.createElement("div"),n=document.createElement("span"),o=document.createElement("a"),s=i.textContent.toLowerCase().replace(/[^èéòàùì\w]/gi,"")+"link";e.addEventListener("focusin",l),e.addEventListener("focusout",d),i.textContent.length>19?t.textContent=i.textContent.slice(0,19)+"...":t.textContent=i.textContent,i.className.includes("pageTitle")&&(t.textContent="Top"),t.className="text",o.appendChild(t),o.appendChild(n),o.addEventListener("click",a),o.href="#"+s,e.appendChild(o),r.append(e);const c=document.createElement("a");c.id=s,c.name=s,c.style.cssText="border-bottom: none;text-decoration: none;color: inherit;font-weight: inherit;",c.textContent=i.textContent,oldNode=i.childNodes[0],i.replaceChild(c,oldNode)}},a=e=>{c(e)},c=e=>{e.preventDefault();const t=e.currentTarget.getAttribute("href"),n=document.querySelector(t).offsetTop,o=window.pageYOffset,r=n-o,i=1e3;let s=null;const a=e=>{s||(s=e);const t=e-s;window.scrollTo(0,c(t,o,r,i)),t<i&&window.requestAnimationFrame(a)},c=(e,t,n,o)=>(e/=o/2,e<1?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t));return window.requestAnimationFrame(a)},l=t=>{t.currentTarget.classList.add("li-focused"),e.classList.contains("prl-sticky-nav-inner-focused")||e.classList.add("prl-sticky-nav-inner-focused")},d=t=>{t.currentTarget.removeAttribute("class"),(t.composedPath()[2].lastElementChild===t.currentTarget||t.composedPath()[2].firstElementChild===t.currentTarget)&&e.classList.remove("prl-sticky-nav-inner-focused")},u=t=>{focused=document.querySelector(".li-focused"),focused&&focused.removeAttribute("class"),e.classList.remove("prl-sticky-nav-inner-focused")};e.addEventListener("mouseleave",u);const m=()=>{const t=window.matchMedia("(min-width: 768px)"),o=document.querySelector(".mainContent__mainCol").offsetTop,r=Math.abs(document.body.getBoundingClientRect().top),i=o-200;if(r>i&&t.matches)n.classList.add("aside-visible"),n.classList.remove("aside-hidden"),n.setAttribute("aria-hidden","false"),h();else if(r<i&&t.matches){n.classList.add("aside-hidden"),n.classList.remove("aside-visible"),n.setAttribute("aria-hidden","true"),e.classList.remove("prl-sticky-nav-inner-focused");const t=document.querySelector(".li-focused");t&&(t.classList="")}else t.matches||n.removeAttribute("aria-hidden")},h=()=>{const e=document.body.querySelector(".aside-helper");null===window.sessionStorage.getItem("first view")?(window.sessionStorage.setItem("first view",!0),e.classList.add("aside-appear")):!0===window.sessionStorage.getItem("first view")&&e.classList.remove("aside-appear")};window.addEventListener("scroll",m),s()}})(),function(){const e=document.querySelector(".web-components-demo")||document.querySelector(".newsArticle.depth-3");if(e){const e=()=>{progressBar=document.createElement("div"),progressBar.className="prl-progress-bar",progressBar.setAttribute("aria-hidden","true"),progressBar.style.width="0%",document.body.prepend(progressBar)},t=()=>{const e=document.body.querySelector(".prl-progress-bar");if(document.querySelector(".newsArticle .prl-narrow-container"))var t=Array.from(document.querySelectorAll(".mainContent__mainCol h1, .prl-narrow-container h2, .prl-narrow-container h3, .prl-narrow-container p, .prl-narrow-container img"));else t=Array.from(document.querySelectorAll(".mainContent__mainCol h1, .mainContent__mainCol h2, .mainContent__mainCol h3, .mainContent__mainCol p, .mainContent__mainCol code, .mainContent__mainCol img"));console.log("page progress bar sections",t);let n=new IntersectionObserver(n=>{n.forEach(n=>{1===n.intersectionRatio&&(pagePartsIndex=t.indexOf(n.target)+1,percentageScrolled=pagePartsIndex/t.length*100,e.style.width=percentageScrolled+"%")})},{threshold:1});t.forEach(e=>n.observe(e))};window.addEventListener("load",e()),window.addEventListener("load",t()),window.addEventListener("resize",t)}}(),function(){if(document.body.className.includes("about")&&document.body.className.includes("depth-1")){const e=document.createElement("link");e.type="text/css",e.setAttribute("rel","stylesheet"),e.href="/sites/_prl/assets/File/websiteTheme/Zoom_Timeline/PRL-about-page-timeline-jQuery-compiled_min.css";const t=document.createElement("script");t.src="/sites/_prl/assets/File/websiteTheme/Zoom_Timeline/zoomtimeline.js",t.defer=!0;const n=document.createElement("script");n.src="/sites/_prl/assets/File/websiteTheme/Zoom_Timeline/isotope_pkgd_min.js",n.defer=!0,document.head.prepend(n),document.head.prepend(t),document.head.prepend(e)}}(),function(){if(document.querySelector(".about.depth-1")||document.querySelector(".about.depth-2")){let e=[],t=[];const n=()=>{let e=["243782","243694","243695"],n=["relevance","title","firstAuthor","lastAuthor","publishedDate","addedDate","journalName","volume","doi","pubMedId","issue","publisher","url","itemType","firstEditor","itemId"];null===window.localStorage.getItem("prlPubSort")?window.localStorage.setItem("prlPubSort","desc"):"desc"===window.localStorage.getItem("prlPubSort")?window.localStorage.setItem("prlPubSort","asc"):window.localStorage.setItem("prlPubSort","desc");let o=window.localStorage.getItem("prlPubSort")||"desc";e.forEach(function(e){var r=n[Math.floor(Math.random()*n.length)];t.push("https://sciwheel.com/extapi/work/references?projectId=475188&tagIds=".concat(e,"&sort=").concat(r,":").concat(o,"&size=2"))})},o=e=>fetch(e,{method:"Get",headers:{Authorization:"Bearer 3E6D88C2CB9D47494DE94FFF891FB9E7"}}).then(e=>e.json()).catch(e=>console.log("error fetching references",e)),r=function(e){return fetch("https://sciwheel.com/extapi/work/references/".concat(e.id,"/notes"),{method:"Get",headers:{Authorization:"Bearer 3E6D88C2CB9D47494DE94FFF891FB9E7"}}).then(function(e){return e.json()}).catch(function(e){return console.log("error fetching reference notes",e)})},i=e=>{const t=new Array(document.body.querySelectorAll("section.prl-about-milestones ul li")),n=document.body.querySelector("section.prl-about-milestones ul");e&&e.length>0&&t[0].forEach(e=>e.remove()),e.forEach(e=>{const t=document.createElement("li"),o=document.createTextNode(e);t.appendChild(o),n.appendChild(t)})};n(),Promise.all(t.map(e=>o(e))).then(t=>(tempArray=[],t.map(e=>tempArray.push(e.results)),Promise.all(tempArray.flat().map(e=>r(e))).then(t=>(t.flat().map(t=>e.push(t.comment)),i(e))))).catch(e=>console.log("error accessing API data",e))}}(),signInOutSection=document.getElementsByTagName("body"),"prlsigninout"===signInOutSection[0].id&&(sideNav=document.getElementsByClassName("mainContent__sideNav"),sideNav[0].children[0].textContent="Resources",delete sideNav),delete signInOutSection;